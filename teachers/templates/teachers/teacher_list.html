{% extends 'teachers/base_teachers.html' %}

{% block title %}선생님 목록 - MClass Manager{% endblock %}

{% block teacher_content %}
<div class="content-card">
    <div class="card-header">
        <div class="flex items-center justify-between">
            <h1 class="text-xl font-semibold text-gray-900">선생님 목록</h1>
            <div class="flex items-center space-x-4">
                <form method="get" class="flex items-center">
                    <label class="inline-flex items-center">
                        <input type="checkbox" name="show_inactive" 
                               {% if show_inactive %}checked{% endif %}
                               class="form-checkbox h-4 w-4 text-indigo-600"
                               onchange="this.form.submit()">
                        <span class="ml-2 text-sm text-gray-600">퇴사자 포함</span>
                    </label>
                </form>
            </div>
        </div>
    </div>
    
    <div class="card-body">
        <div class="overflow-x-auto">
            <table class="content-table">
                <thead>
                    <tr>
                        <th>이름</th>
                        <th>전화번호</th>
                        <th>이메일</th>
                        <th>입사일</th>
                        <th>상태</th>
                        <th>관리</th>
                    </tr>
                </thead>
                <tbody>
                    {% if teachers %}
                        {% for teacher in teachers %}
                        <tr>
                            <td>
                                <a href="{% url 'teachers:teacher_detail' teacher.pk %}" 
                                   class="link-primary">
                                    {{ teacher.name }}
                                </a>
                            </td>
                            <td>{{ teacher.phone_number|default:"-" }}</td>
                            <td>{{ teacher.email|default:"-" }}</td>
                            <td>{{ teacher.hire_date|date:"Y-m-d" }}</td>
                            <td>
                                <span class="status-badge {% if teacher.is_active %}status-badge-success{% else %}status-badge-error{% endif %}">
                                    {% if teacher.is_active %}재직 중{% else %}퇴사{% endif %}
                                </span>
                            </td>
                            <td>
                                <div class="flex space-x-2">
                                    <a href="{% url 'teachers:teacher_update' teacher.pk %}" 
                                       class="link-primary">수정</a>
                                    <a href="{% url 'teachers:teacher_pdf_report' teacher.pk %}"
                                       class="link-primary" target="_blank">보고서</a>
                                </div>
                            </td>
                        </tr>
                        {% endfor %}
                    {% else %}
                        <tr>
                            <td colspan="6" class="text-center py-4 text-gray-500">
                                등록된 선생님이 없습니다.
                            </td>
                        </tr>
                    {% endif %}
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}